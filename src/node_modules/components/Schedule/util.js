import moment from 'moment'

export const numHours = (rangeStart, rangeEnd) =>
  Math.floor(
    moment.duration(moment(rangeEnd).diff(moment(rangeStart))).asHours()
  )

export const getPixelCount = (rangeStart, rangeEnd) =>
  9 * numHours(rangeStart, rangeEnd)

export const getHourCount = pixelCount => Math.round(pixelCount / 9)

export const isBetween = (date, event, inclusivity) =>
  moment(date).isBetween(event.rangeStart, event.rangeEnd, null, inclusivity)

export const doesOverlap = event1 => event2 =>
  isBetween(event1.rangeStart, event2, '[]') ||
  isBetween(event1.rangeEnd, event2, '[]') ||
  isBetween(event2.rangeStart, event1, '[]') ||
  isBetween(event2.rangeEnd, event1, '[]')
